<!DOCTYPE html>
<html>

<head>
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<title>{{.PageTitle}}</title>

<style>
  body { background-color: #efeff6 }
  h1 { font-size: 20pt; font-family: Arial, Helvetica, sans-serif; font-weight: bold; float: left; margin: 6px; margin-left: 10px; color: royalblue }
  j1 { font-size: 20pt; font-family: Arial, Helvetica, sans-serif; font-weight: bold; float: right; margin: 6px; margin-right: 10px; color: royalblue }
  h2 { font-size: 24pt; font-weight: bold; text-align: center; margin-bottom: 4px; margin-top: 16px; position: relative; top: -20px }
  h3 { font-size: 14pt; font-weight: normal; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -20px }
  h4 { font-size: 12pt; font-style: italic; font-weight: normal; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -12px }
  j2 { font-size: 32pt; font-weight: bold; text-align: center; padding-bottom: 24px; margin-top: 16px; color: mediumblue; position: relative; top: -20px }
  #wordSpan0 { font-size: 14pt; font-weight: normal; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -12px }
  #wordSpan1 { font-size: 14pt; font-weight: bold; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -12px }
  #buttonParentBox { text-align: center; position: relative; min-height: 310px; width: 50%; background: white; display: inline-block; padding: 0px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); }
  #buttonBox { text-align: center }
  #checkAllButton { background-color: #ccffcc; margin-right: 10px }
  #uncheckAllButton { background-color: #ffcccc; }
  #counterSpan { text-align: right; width: 98%; display: inline-block; margin-bottom: 0px; font-size: 12pt; font-style: italic; position: relative; top: 5px }
  #headerDiv { width: 100%; display: inline-block; margin-bottom: 0px; background-color: white; margin-bottom: 12px; border-bottom-color: royalblue; border-bottom-width: 2px; border-bottom-style: solid }
  .optionBoxParent { text-align: center }
  .optionBox { width: 80%; background: white; display: inline-block; text-align: left; padding: 16px; padding-top: 0px; border-style:solid; border-color: #ebebeb; border-width: 1px }
  .button1 { width: 50%; height: 50px; background:radial-gradient(white, lightyellow); font-size: 16pt; font-weight: bold }
  .button2 { width: 25%; height: 50px; position: absolute; top: 240px; left: 0; right: 0; margin: auto}

  .radioOptionText { font-size: 12pt; padding-right: 10px }
  .optionText { font-size: 12pt; padding-right: 10px }

  @media only screen 
    and (max-device-width: 640px), 
    only screen and (max-device-width: 667px), 
    only screen and (max-width: 480px) {

    .radioOptionText { font-size: 18pt; padding-right: 10px }
    .optionText { font-size: 18pt; padding-right: 20px }

    h2 { font-size: 48pt; font-weight: bold; text-align: center; margin-bottom: 4px; margin-top: 16px; position: relative; top: -20px }
    h3 { font-size: 28pt; font-weight: normal; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -20px }
    h4 { font-size: 24pt; font-style: italic; font-weight: normal; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -12px }
    j2 { font-size: 58pt; font-weight: bold; text-align: center; padding-bottom: 24px; margin-top: 16px; color: mediumblue; position: relative; top: -20px }
    #wordSpan0 { font-size: 28pt; font-weight: normal; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -12px }
    #wordSpan1 { font-size: 28pt; font-weight: bold; text-align: center; margin-top: 0px; padding-top: 0px; position: relative; top: -12px }
    #buttonParentBox { text-align: center; position: relative; min-height: 590px; width: 90%; background: white; display: inline-block; padding: 0px; box-shadow: 0 6px 12px 0 rgba(0, 0, 0, 0.2), 0 9px 30px 0 rgba(0, 0, 0, 0.19); }
    #counterSpan { text-align: right; width: 98%; display: inline-block; margin-bottom: 0px; font-size: 24pt; font-style: italic; position: relative; top: 5px }
    .optionBox { width: 90%; background: white; display: inline-block; text-align: left; padding: 16px; padding-top: 0px; border-style:solid; border-color: #ebebeb; border-width: 1px }
    .button1 { width: 50%; height: 100px; background:radial-gradient(white, lightyellow); font-size: 32pt; font-weight: bold }
    .button2 { width: 25%; height: 100px; position: absolute; top: 440px; left: 0; right: 0; margin: auto; font-size: 32pt; font-weight: bold}
  
    .regular-checkbox { display: none; }

    .regular-checkbox + label {
      background-color: #fafafa;
      border: 1px solid #cacece;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
      padding: 9px;
      border-radius: 3px;
      display: inline-block;
      position: relative;
      top: 2px;
    }

    .regular-checkbox + label:active, .regular-checkbox:checked + label:active {
      box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px 1px 3px rgba(0,0,0,0.1);
    }

    .regular-checkbox:checked + label {
      background-color: #d6e6f1;
      border: 1px solid #adb8c0;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05), inset 15px 10px -12px rgba(255,255,255,0.1);
    }

    .regular-checkbox:checked + label:after {
      content: '\2714';
      font-size: 14px;
      position: absolute;
      top: 0px;
      left: 3px;
      color: #0091ff;
    }

    /* RADIO */

    .regular-radio {
      display: none;
    }

    .regular-radio + label {
      -webkit-appearance: none;
      background-color: #fafafa;
      border: 1px solid #cacece;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
      padding: 9px;
      border-radius: 50px;
      display: inline-block;
      position: relative;
      top: 2px;
    }

    .regular-radio:checked + label:before {
      content: ' ';
      width: 12px;
      height: 12px;
      border-radius: 50px;
      position: absolute;
      top: 3px;
      background: #0091ff;
      box-shadow: inset 0px 0px 10px rgba(0,0,0,0.3);
      text-shadow: 0px;
      left: 3px;
      font-size: 32px;
    }

    .regular-radio:checked + label {
      background-color: #d6e6f1;
      border: 1px solid #adb8c0;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05), inset 15px 10px -12px rgba(255,255,255,0.1), inset 0px 0px 10px rgba(0,0,0,0.1);
    }

    .regular-radio + label:active, .regular-radio:checked + label:active {
      box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px 1px 3px rgba(0,0,0,0.1);
    }
  }
</style>
</head>

<script type='text/javascript'>
 $(document).ready(function() {
   $('input[name=wordVerb]').change(function(){
     $('form').submit();
   });

   $('input[name=wordAdjective]').change(function(){
     $('form').submit();
   });

   $('input[name=runTest]').click(function(){
     $('<input>').attr('type', 'hidden').attr('name', 'runTest').attr('value', 'runTest').appendTo('form');
     $('form').submit();
    });

   $('input[name=checkAllWordTypes]').click(function(){
    {{with $1:=.WordOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', true);
        $('form').submit();
      {{end}}
    {{end}}
   });
   
   $('input[name=checkAllVerbPoliteness]').click(function(){
    {{with $1:=.PolitenessOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', true);
      {{end}}
    {{end}}
   });

   $('input[name=checkAllVerbForms]').click(function(){
    {{with $1:=.FormOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', true);
      {{end}}
    {{end}}
   });

   $('input[name=checkAllAdjectiveForms]').click(function(){
    {{with $1:=.AdjectiveFormOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', true);
      {{end}}
    {{end}}
   });

   $('input[name=uncheckAllWordTypes]').click(function(){
    {{with $1:=.WordOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', false);
        $('form').submit();
      {{end}}
    {{end}}
   });

   $('input[name=uncheckAllVerbPoliteness]').click(function(){
    {{with $1:=.PolitenessOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', false);
      {{end}}
    {{end}}
   });

   $('input[name=uncheckAllVerbForms]').click(function(){
    {{with $1:=.FormOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', false);
      {{end}}
    {{end}}
   });

   $('input[name=uncheckAllAdjectiveForms]').click(function(){
    {{with $1:=.AdjectiveFormOptionButtons}}
      {{range $1}}
        $('input[name={{.Name}}]').prop('checked', false);
      {{end}}
    {{end}}
   });
});
</script>

<body>
  <div id="headerDiv">
    <!-- <span><h1>Japanese Vocab Practice</h1></span><span><j1>Japanese Vocab Practice</j1></span> -->
    <span style="font-size: 20pt; font-family: Arial, Helvetica, sans-serif; font-weight: bold; float: left; margin: 6px; margin-left: 110px; margin-bottom: 0px; color: royalblue">Japanese Vocab Practice</span>
    <span style="font-size: 20pt; font-family: Arial, Helvetica, sans-serif; font-weight: bold; float: right; margin: 6px; margin-right: 110px; margin-bottom: 0px; color: royalblue">日本語の単語練習</span>
  </div>

  <div class="testControls">
    <form action="/controls" method="post">

      {{with $4:=.DisplayOptionButtons}}
        <div class="optionBoxParent"><div class="optionBox">
            <p><b>Display:</b></p>
            {{range $4}}
              <input type="radio" name={{.Name}} value="{{.Value}}" id={{.Value}} class="regular-radio" {{if .IsChecked}} checked="true" {{end}}>
              <label for="{{.Value}}"></label>
              <span class="radioOptionText">{{.Text}}</span>
            {{end}}
          </div>
        </div>
      {{end}}

      {{with $1:=.WordOptionButtons}}
        <div class="optionBoxParent"><div class="optionBox">
            <p><b>Word Types:</b></p>
            <input type="button" name="uncheckAllWordTypes" value="Uncheck All" id="uncheckAllButton">
            <input type="button" name="checkAllWordTypes" value="Check All" id="checkAllButton">
            {{range $1}}
              <input type="checkbox" name={{.Name}} value={{.Value}} id="cb{{.Name}}" class="regular-checkbox big-checkbox" {{if .IsDisabled}} disabled=true {{end}} {{if .IsChecked}} checked{{end}}> 
              <label for="cb{{.Name}}"></label>
              <span class="optionText">{{.Text}}</span>
            {{end}}
          </div>
        </div>
      {{end}}
      
      {{with $2:=.PolitenessOptionButtons}}
        <div class="optionBoxParent"><div class="optionBox">
            <p><b>Verb Politeness Level:</b></p>
            <input type="button" name="uncheckAllVerbPoliteness" value="Uncheck All" id="uncheckAllButton">
            <input type="button" name="checkAllVerbPoliteness" value="Check All" id="checkAllButton">
            {{range $2}}
              <input type="checkbox" name={{.Name}} value={{.Value}} id="cb{{.Name}}" class="regular-checkbox" {{if .IsDisabled}} disabled=true {{end}} {{if .IsChecked}} checked{{end}}>
              <label for="cb{{.Name}}"></label>
              <span class="optionText">{{.Text}}</span>
            {{end}}
          </div>
        </div>
      {{end}}

      {{with $3:=.FormOptionButtons}}
        <div class="optionBoxParent"><div class="optionBox">
            <p><b>Verb Form:</b></p>
            <input type="button" name="uncheckAllVerbForms" value="Uncheck All" id="uncheckAllButton">
            <input type="button" name="checkAllVerbForms" value="Check All" id="checkAllButton">
            <br>
            {{range $3}}
              <span style="background-color: #ffffff; display: inline-block; position: relative; ">
                <input type="checkbox" name={{.Name}} value={{.Value}} id="cb{{.Name}}" class="regular-checkbox" {{if .IsDisabled}} disabled=true {{end}} {{if .IsChecked}} checked{{end}}>
                <label for="cb{{.Name}}"></label>
                <span class="optionText">{{.Text}}</span>
              </span>
            {{end}}
          </div>
        </div>
      {{end}}

      {{with $5:=.AdjectiveFormOptionButtons}}
        <div class="optionBoxParent"><div class="optionBox">
            <p><b>Adjective Form:</b></p>
            <input type="button" name="uncheckAllAdjectiveForms" value="Uncheck All" id="uncheckAllButton">
            <input type="button" name="checkAllAdjectiveForms" value="Check All" id="checkAllButton">
            <br>
            {{range $5}}
              <span style="background-color: #ffffff; display: inline-block; position: relative; ">
                <input type="checkbox" name={{.Name}} value={{.Value}} id="cb{{.Name}}" class="regular-checkbox" {{if .IsDisabled}} disabled=true {{end}} {{if .IsChecked}} checked{{end}}>
                <label for="cb{{.Name}}"></label>
                <span class="optionText">{{.Text}}</span>
              </span>
            {{end}}
          </div>
        </div>
      {{end}}

    </form>
  </div>

  <br>
  <br>

  <div id="buttonBox">
    <input type="button" value="Start/Restart Test" name="runTest" class="button1" {{if .TestButtonDisabled}} disabled=true {{end}}>
  </div>

  <br>
  <br>

  <div class="optionBoxParent"><div class="Test" id="buttonParentBox">
      <script>
        var wordData = {{.TestWords}}
        var formData = {{.TestForms}}
        var index = -1;

        function removeElement(elementId) {

          var item = document.getElementById(elementId);
          if (item != null) {
              item.parentNode.removeChild(item);
          }
        }

        function ShowWord() {

              index++;

              removeElement("answerDiv");
              removeElement("englishText");
              removeElement("formText");
              removeElement("counterSpan");

              var parentDiv = document.getElementById("buttonParentBox");

              var counterSpan = document.createElement("span");
              counterSpan.id = "counterSpan"

              var counterText;
              if (index + 1 > wordData.length) {
                counterText = document.createTextNode("Done!");
              } else {
                counterText = document.createTextNode((index + 1) + "/" + wordData.length)
              }
              counterSpan.appendChild(counterText);
              parentDiv.appendChild(counterSpan);

              var wordText = document.createElement("h2");
              wordText.id = "englishText";

              if (wordData[index].WordType == 0)
              {
                  wordText.textContent = "To ";
              }

              wordText.textContent += wordData[index].English;
              parentDiv.appendChild(wordText);

              var formText = document.createElement("h3");
              formText.id = "formText";

              var formDisplayText = formData[index];
              if (wordData[index].WordType == 1) {
                  formDisplayText = formDisplayText.replace("adj-", "");
              }

              formText.textContent += formDisplayText;
              parentDiv.appendChild(formText);

              var button = document.createElement("input");
              button.type = "button";
              button.id = "getAnswerButton"
              button.value = "Get answer";
              button.classList.add("button2");
              button.onclick = Answer;

              var div = document.createElement("div");
              div.id = "buttonBox";
              div.appendChild(button);
              parentDiv.appendChild(div);
        }

        function Answer() {
            
            var parentDiv = document.getElementById("buttonParentBox");

            removeElement("getAnswerButton");

            var containerDiv = document.createElement("div");
            containerDiv.id = "answerDiv";

            var wordText = document.createElement("j2");
            wordText.id = "japaneseTextAnswer";
            wordText.textContent = wordData[index].TestAnswer;
            containerDiv.appendChild(wordText);

            var wordSpan0 = document.createElement("span");
            wordSpan0.id = "wordSpan0";

            var lbr = document.createElement("br");
            wordSpan0.appendChild(lbr);

            var wordTypeName = "verb";
            if (wordData[index].WordType == 1) {
                wordTypeName = "adjective";
            }

            var wordText2 = document.createTextNode("Base " + wordTypeName + ": ");
            wordText2.id = "japaneseTextBaseVerb";
            wordSpan0.appendChild(wordText2);
            containerDiv.appendChild(wordSpan0);

            var wordSpan1 = document.createElement("span");
            wordSpan1.id = "wordSpan1";
            
            var wordText2a = document.createTextNode(wordData[index].Japanese);
            wordText2a.id = "japaneseTextBaseVerb2";
            wordSpan1.appendChild(wordText2a);
            containerDiv.appendChild(wordSpan1);

            var wordText3 = document.createElement("h4");
            wordText3.id = "japaneseTextBaseVerbSubtype";

            if (wordData[index].WordType == 0) {
                wordText3.textContent = "(" + wordData[index].Subtype + " verb" + ")";
            } else if (wordData[index].WordType == 1) {
                wordText3.textContent = "(" + wordData[index].Subtype + ")";
            }
            containerDiv.appendChild(wordText3);

            var button = document.createElement("input");
            button.type = "button";
            button.id = "nextButton";
            button.value = "Next";
            button.classList.add("button2");
            button.onclick = ShowWord;

            var div = document.createElement("div");
            div.id = "buttonBox";
            div.appendChild(button);
            containerDiv.appendChild(div);

            parentDiv.appendChild(containerDiv);
        }

        ShowWord(index);
      </script>
  </div>
</div>

</body>
</html>